/* CSS variables per duo-tone theme */
:root {
  --bg:#E0E4C0;       /* shell */
  --accent:#8A8D75;   /* shell details */
  --lcd-dark:#0a3a03; /* screen pixels */
  --lcd-light:#90A76B;/* screen bg */
  --ink:#222;         /* text */
}
body.theme-original { --lcd-dark:#0a3a03; --lcd-light:#90A76B; }
body.theme-red      { --lcd-dark:#5a0000; --lcd-light:#ffb3b3; }
body.theme-pink     { --lcd-dark:#5a003a; --lcd-light:#ffb3de; }
body.theme-purple   { --lcd-dark:#2f0a5a; --lcd-light:#d2b3ff; }
body.theme-babyblue { --lcd-dark:#0a2a5a; --lcd-light:#b3ddff; }

*{box-sizing:border-box}
html,body{height:100%}
body{margin:0;background:#111;color:var(--ink);font-family:system-ui,Segoe UI,Arial,sans-serif;display:flex;flex-direction:column;align-items:center;gap:12px}

#app{width:100%;max-width:420px;padding:12px}
.topbar{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}
.topbar .auth button{margin-right:6px}
.hide{display:none!important}

/* Game Boy shell */
.gb-shell{background:var(--bg);padding:16px;border-radius:18px;box-shadow:0 12px 30px rgba(0,0,0,.5);position:relative}
.gb-top{height:18px;display:flex;justify-content:flex-end}
.gb-speaker{width:70px;height:18px;background:repeating-linear-gradient(90deg,var(--accent) 0 6px,transparent 6px 10px);border-radius:8px}

.gb-screen-wrap{position:relative;background:var(--lcd-light);border:6px solid #3b4730;border-radius:8px;aspect-ratio:160/144;}
.gb-screen-wrap canvas#tetris{width:100%;height:100%;image-rendering:pixelated;display:block}
#crt-overlay{position:absolute;inset:0;pointer-events:none;mix-blend-mode:multiply}

.hud{position:absolute;top:8px;left:8px;right:8px;display:flex;justify-content:space-between;gap:8px}
.hud .hud-box{background:rgba(0,0,0,.08);border:1px solid rgba(0,0,0,.2);padding:4px 6px;border-radius:6px;backdrop-filter:blur(1px)}
.hud label{font-size:10px;opacity:.7;display:block}
.hud span{font-weight:700}
.hud canvas{image-rendering:pixelated;background:rgba(255,255,255,.15);border-radius:4px}

/* Controls */
.gb-controls{display:flex;justify-content:space-between;align-items:center;margin-top:12px}
.dpad{position:relative;width:120px;height:120px}
.pad{position:absolute;width:40px;height:40px;background:#444;border:none;border-radius:8px;box-shadow:inset 0 -3px 0 rgba(0,0,0,.5);}
.pad:active{transform:translateY(1px)}
.pad.up{left:40px;top:0}
.pad.left{left:0;top:40px}
.pad.right{right:0;top:40px}
.pad.down{left:40px;bottom:0}

.ab{display:flex;gap:12px}
.ab .btn-a,.ab .btn-b{width:56px;height:56px;border-radius:50%;border:none;background:#6d2f6f;color:#fff;font-weight:700;box-shadow:inset 0 -4px 0 rgba(0,0,0,.4)}

.start-select{display:flex;gap:8px}
.btn-start,.btn-select{border:none;border-radius:999px;padding:8px 14px;background:#333;color:#fff}

/* Modals */
.modal{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,.6);z-index:50}
.modal-card{background:#fff;color:#111;padding:16px 18px;border-radius:12px;width:min(92vw,380px)}
.modal .row{display:flex;gap:8px;margin-top:12px}
.modal input, .modal select {width:100%;padding:8px;border:1px solid #ddd;border-radius:8px}
.modal h2{margin-top:0}
.small{font-size:12px;opacity:.75}

/* Responsive: fit iPhone 14 Pro (393x852 CSS px) beautifully */
@media (max-width:420px){
  #app{padding:8px}
  .dpad{width:100px;height:100px}
  .pad{width:34px;height:34px}
  .ab .btn-a,.ab .btn-b{width:48px;height:48px}
}
